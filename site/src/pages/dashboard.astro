---
const brand = {
  product: "Logentica — Dashboard",
  subtitle: "Public demo · no auth · template-ready",
};

const range = {
  label: "Last 7 days",
  from: "Feb 3",
  to: "Feb 9",
};

const kpis = [
  {
    label: "Active members",
    value: "3,482",
    delta: "+6.2%",
    deltaTone: "up",
    spark: [12, 13, 12, 14, 15, 16, 18],
  },
  {
    label: "Weekly retention",
    value: "41%",
    delta: "+2.1%",
    deltaTone: "up",
    spark: [32, 33, 34, 35, 37, 39, 41],
  },
  {
    label: "Conversions",
    value: "128",
    delta: "+9.4%",
    deltaTone: "up",
    spark: [10, 12, 11, 14, 15, 16, 18],
  },
  {
    label: "Churn risk",
    value: "7.8%",
    delta: "−1.3%",
    deltaTone: "downGood",
    spark: [11, 10, 10, 9, 9, 8, 8],
  },
];

const series = [
  { day: "Mon", v: 120 },
  { day: "Tue", v: 150 },
  { day: "Wed", v: 90 },
  { day: "Thu", v: 180 },
  { day: "Fri", v: 210 },
  { day: "Sat", v: 160 },
  { day: "Sun", v: 190 },
];

const breakdown = [
  { name: "Top cohort (new) · week 1", value: "54%", delta: "+4%", tone: "up" },
  { name: "Core users · weekly", value: "1,024", delta: "+8%", tone: "up" },
  { name: "Paying members", value: "96", delta: "+3%", tone: "up" },
  { name: "Support load", value: "Low", delta: "−12%", tone: "downGood" },
];

const topRows = [
  {
    label: "Acquisition channel",
    rows: [
      { k: "Referral", v: "38%", d: "+5%" },
      { k: "X / social", v: "26%", d: "+2%" },
      { k: "Direct", v: "21%", d: "−1%" },
      { k: "Search", v: "15%", d: "+1%" },
    ],
  },
  {
    label: "Top workflows",
    rows: [
      { k: "Dashboard views", v: "12.4k", d: "+9%" },
      { k: "Exports", v: "412", d: "+3%" },
      { k: "Automations run", v: "1,842", d: "+11%" },
      { k: "Alerts triggered", v: "38", d: "−6%" },
    ],
  },
];

function sparkPath(values: number[], w = 104, h = 28, pad = 2) {
  const min = Math.min(...values);
  const max = Math.max(...values);
  const span = Math.max(1, max - min);
  const step = (w - pad * 2) / (values.length - 1);
  const pts = values.map((v, i) => {
    const x = pad + i * step;
    const y = pad + (1 - (v - min) / span) * (h - pad * 2);
    return [x, y] as const;
  });
  const d = pts
    .map(([x, y], i) => `${i === 0 ? "M" : "L"}${x.toFixed(2)} ${y.toFixed(2)}`)
    .join(" ");
  return { d, pts };
}

const maxV = Math.max(...series.map((s) => s.v));
const width = 920;
const height = 220;
const pad = 18;
const step = (width - pad * 2) / (series.length - 1);
const linePoints = series
  .map((s, i) => {
    const x = pad + i * step;
    const y = pad + (1 - s.v / maxV) * (height - pad * 2);
    return `${x},${y}`;
  })
  .join(" ");

const areaPoints = `${pad},${height - pad} ${linePoints} ${pad + (series.length - 1) * step},${height - pad}`;
---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Example Dashboard — Logentica</title>
  </head>

  <body class="min-h-screen bg-zinc-950 text-zinc-100">
    <!-- Background texture -->
    <div class="pointer-events-none fixed inset-0">
      <div class="absolute inset-0 bg-[radial-gradient(ellipse_at_top,rgba(255,255,255,0.10),transparent_55%)]"></div>
      <div class="absolute inset-0 bg-[radial-gradient(ellipse_at_bottom,rgba(255,255,255,0.06),transparent_60%)]"></div>
      <div class="absolute inset-0 opacity-[0.07] [background-image:linear-gradient(rgba(255,255,255,0.08)_1px,transparent_1px),linear-gradient(90deg,rgba(255,255,255,0.08)_1px,transparent_1px)] [background-size:48px_48px]"></div>
    </div>

    <main class="relative mx-auto max-w-6xl px-5 py-10 sm:px-8">
      <!-- Top bar -->
      <header class="flex flex-col gap-6 sm:flex-row sm:items-start sm:justify-between">
        <div>
          <div class="flex items-center gap-3">
            <div class="h-9 w-9 rounded-xl border border-white/10 bg-white/5"></div>
            <div>
              <div class="text-xs uppercase tracking-widest text-zinc-400">{brand.subtitle}</div>
              <h1 class="mt-1 text-3xl font-semibold tracking-tight">{brand.product}</h1>
            </div>
          </div>
          <p class="mt-4 max-w-2xl text-sm text-zinc-300">
            This is a no-auth dashboard template designed for rapid niche prototypes.
            Swap the KPIs, labels, and adapter — ship a credible demo in hours.
          </p>
        </div>

        <div class="flex flex-wrap items-center gap-2 sm:justify-end">
          <div class="rounded-xl border border-white/10 bg-white/5 px-3 py-2">
            <div class="text-[11px] text-zinc-400">Time range</div>
            <div class="text-sm font-medium">{range.label} <span class="text-zinc-400 font-normal">· {range.from}–{range.to}</span></div>
          </div>
          <button class="rounded-xl border border-white/10 bg-white/5 px-3 py-2 text-sm text-zinc-200 hover:bg-white/10">
            Export
          </button>
          <a href="/" class="rounded-xl border border-white/10 bg-white/5 px-3 py-2 text-sm text-zinc-200 hover:bg-white/10">Home</a>
        </div>
      </header>

      <!-- KPI grid -->
      <section class="mt-10 grid gap-4 sm:grid-cols-2 lg:grid-cols-4">
        {kpis.map((k) => {
          const s = sparkPath(k.spark);
          const deltaClass =
            k.deltaTone === "up"
              ? "text-emerald-300"
              : k.deltaTone === "downGood"
                ? "text-emerald-300"
                : "text-rose-300";

          return (
            <div class="relative overflow-hidden rounded-2xl border border-white/10 bg-white/5 p-5">
              <div class="absolute inset-x-0 top-0 h-px bg-gradient-to-r from-transparent via-white/20 to-transparent"></div>
              <div class="flex items-start justify-between gap-4">
                <div>
                  <div class="text-xs uppercase tracking-wider text-zinc-400">{k.label}</div>
                  <div class="mt-2 text-2xl font-semibold tracking-tight">{k.value}</div>
                  <div class={`mt-1 text-sm ${deltaClass}`}>{k.delta} <span class="text-zinc-500">vs prev</span></div>
                </div>

                <div class="mt-1">
                  <svg width="104" height="28" viewBox="0 0 104 28" class="block">
                    <path d={s.d} fill="none" stroke="rgba(255,255,255,0.72)" stroke-width="2" stroke-linecap="round" />
                    <circle
                      cx={s.pts[s.pts.length - 1][0]}
                      cy={s.pts[s.pts.length - 1][1]}
                      r="2.6"
                      fill="rgba(255,255,255,0.95)"
                    />
                  </svg>
                  <div class="mt-1 text-[11px] text-zinc-500 text-right">trend</div>
                </div>
              </div>
            </div>
          );
        })}
      </section>

      <!-- Main chart + insights -->
      <section class="mt-6 grid gap-6 lg:grid-cols-3">
        <div class="rounded-2xl border border-white/10 bg-white/5 p-6 lg:col-span-2">
          <div class="flex items-start justify-between gap-6">
            <div>
              <h2 class="text-lg font-semibold tracking-tight">Engagement signal</h2>
              <p class="mt-1 text-sm text-zinc-400">Example time-series: replace with niche metric (revenue, retention, usage).</p>
            </div>

            <div class="flex items-center gap-2">
              <span class="rounded-lg border border-white/10 bg-white/5 px-2 py-1 text-xs text-zinc-300">Daily</span>
              <span class="rounded-lg border border-white/10 bg-transparent px-2 py-1 text-xs text-zinc-500">Weekly</span>
              <span class="rounded-lg border border-white/10 bg-transparent px-2 py-1 text-xs text-zinc-500">Monthly</span>
            </div>
          </div>

          <div class="mt-6 overflow-x-auto">
            <svg width={width} height={height} viewBox={`0 0 ${width} ${height}`} class="block">
              <defs>
                <linearGradient id="fade" x1="0" y1="0" x2="0" y2="1">
                  <stop offset="0%" stop-color="rgba(255,255,255,0.22)" />
                  <stop offset="100%" stop-color="rgba(255,255,255,0.00)" />
                </linearGradient>
              </defs>

              {/* grid lines */}
              {[0.25, 0.5, 0.75].map((t) => {
                const y = pad + t * (height - pad * 2);
                return <line x1={pad} y1={y} x2={width - pad} y2={y} stroke="rgba(255,255,255,0.08)" stroke-width="1" />;
              })}

              <polygon points={areaPoints} fill="url(#fade)" />

              <polyline
                points={linePoints}
                fill="none"
                stroke="rgba(255,255,255,0.88)"
                stroke-width="2.5"
                stroke-linecap="round"
                stroke-linejoin="round"
              />

              {series.map((s, i) => {
                const x = pad + i * step;
                const y = pad + (1 - s.v / maxV) * (height - pad * 2);
                return (
                  <g>
                    <circle cx={x} cy={y} r="3.6" fill="rgba(255,255,255,0.92)" />
                    <text x={x} y={height - 4} text-anchor="middle" font-size="10" fill="rgba(255,255,255,0.55)">
                      {s.day}
                    </text>
                  </g>
                );
              })}
            </svg>
          </div>

          <div class="mt-6 grid gap-3 sm:grid-cols-2">
            {breakdown.map((b) => {
              const cls = b.tone === "up" || b.tone === "downGood" ? "text-emerald-300" : "text-rose-300";
              return (
                <div class="rounded-xl border border-white/10 bg-black/20 px-4 py-3">
                  <div class="text-xs text-zinc-400">{b.name}</div>
                  <div class="mt-1 flex items-baseline justify-between gap-4">
                    <div class="text-base font-semibold text-zinc-100">{b.value}</div>
                    <div class={`text-sm ${cls}`}>{b.delta}</div>
                  </div>
                </div>
              );
            })}
          </div>
        </div>

        <aside class="rounded-2xl border border-white/10 bg-white/5 p-6">
          <h3 class="text-lg font-semibold tracking-tight">Insights</h3>
          <p class="mt-1 text-sm text-zinc-400">This box is the “sell”: it explains what the dashboard means.</p>

          <div class="mt-6 grid gap-3">
            <div class="rounded-xl border border-white/10 bg-black/20 p-4">
              <div class="text-xs uppercase tracking-wider text-zinc-500">Opportunity</div>
              <div class="mt-2 text-sm text-zinc-200">
                The niche is engaging daily, but conversions lag on high-intent actions.
                Add an automation + export workflow to close the loop.
              </div>
            </div>

            <div class="rounded-xl border border-white/10 bg-black/20 p-4">
              <div class="text-xs uppercase tracking-wider text-zinc-500">Next build</div>
              <ul class="mt-2 space-y-2 text-sm text-zinc-200">
                <li class="flex gap-2"><span class="text-zinc-500">1.</span> Replace synthetic metrics with your niche KPIs</li>
                <li class="flex gap-2"><span class="text-zinc-500">2.</span> Add a single “member workflow” feature (wedge)</li>
                <li class="flex gap-2"><span class="text-zinc-500">3.</span> Ship a public demo link (no auth)</li>
              </ul>
            </div>

            <div class="rounded-xl border border-white/10 bg-black/20 p-4">
              <div class="text-xs uppercase tracking-wider text-zinc-500">Adapter targets</div>
              <div class="mt-2 flex flex-wrap gap-2 text-xs">
                {["Stripe", "Discord", "Circle", "Shopify", "Airtable", "Sheets", "Postgres"].map((t) => (
                  <span class="rounded-full border border-white/10 bg-white/5 px-2 py-1 text-zinc-300">{t}</span>
                ))}
              </div>
            </div>
          </div>
        </aside>
      </section>

      <!-- Tables -->
      <section class="mt-6 grid gap-6 lg:grid-cols-2">
        {topRows.map((block) => (
          <div class="rounded-2xl border border-white/10 bg-white/5 p-6">
            <div class="flex items-center justify-between">
              <h3 class="text-lg font-semibold tracking-tight">{block.label}</h3>
              <span class="text-xs text-zinc-500">example breakdown</span>
            </div>

            <div class="mt-4 overflow-hidden rounded-xl border border-white/10">
              <table class="w-full text-sm">
                <thead class="bg-black/30">
                  <tr>
                    <th class="px-4 py-3 text-left font-medium text-zinc-400">Item</th>
                    <th class="px-4 py-3 text-right font-medium text-zinc-400">Value</th>
                    <th class="px-4 py-3 text-right font-medium text-zinc-400">Δ</th>
                  </tr>
                </thead>
                <tbody class="divide-y divide-white/10">
                  {block.rows.map((r) => (
                    <tr class="bg-black/10">
                      <td class="px-4 py-3 text-zinc-200">{r.k}</td>
                      <td class="px-4 py-3 text-right font-medium text-zinc-100">{r.v}</td>
                      <td class="px-4 py-3 text-right text-emerald-300">{r.d}</td>
                    </tr>
                  ))}
                </tbody>
              </table>
            </div>
          </div>
        ))}
      </section>

      <footer class="mt-10 border-t border-white/10 pt-6 text-xs text-zinc-500">
        <div class="flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between">
          <div>
            Template notes: keep this page static. Use a thin adapter layer for real data.
            Don’t add auth unless you must.
          </div>
          <div class="text-zinc-600">© {new Date().getFullYear()} Logentica</div>
        </div>
      </footer>
    </main>
  </body>
</html>
